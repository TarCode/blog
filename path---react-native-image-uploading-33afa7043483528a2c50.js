webpackJsonp([0xf5ff684c0893],{"./node_modules/json-loader/index.js!./.cache/json/react-native-image-uploading.json":function(e,n){e.exports={data:{site:{siteMetadata:{title:"Tarcode",author:"Taariq Isaacs"}},markdownRemark:{id:"/Users/tarcode/Desktop/tarcode33/src/pages/2017-09-25-react-native-image-upload/index.md absPath of file >>> MarkdownRemark",html:'<p><img src="https://cloudinary-res.cloudinary.com/image/upload/c_fill,w_770/dpr_1.0/React_Progressive_Web_App_2000x1100.png" alt="React Native Cloudinary"></p>\n<p>Greetings creatures of the world. Today, we‚Äôre gonna upload images to Cloudinary using React Native! üò¨</p>\n<p>(‚ÄúCloudinary is the image back-end for web and mobile developers. An end-to-end solution for all your image-related needs.‚Äù - <a href="https://cloudinary.com">The Cloudinary Website</a>)</p>\n<p>First you wanna make sure you have the React Native CLI installed (We‚Äôre not using create-react-native-app). Then, you wanna signup up to <a href="https://cloudinary.com">Cloudinary</a> if haven‚Äôt already.</p>\n<p>Now let‚Äôs get down to business.ü§ì</p>\n<h2>Step 1</h2>\n<p><code>react-native init imageupload</code></p>\n<p><code>cd imageupload</code></p>\n<p><code>npm install</code></p>\n<p><code>mkdir app</code></p>\n<p><code>touch app/index.js</code></p>\n<h2>Step 2</h2>\n<p>Replace <code>index.android.js</code> and <code>index.ios.js</code> with the following:</p>\n<div class="gatsby-highlight">\n      <pre class="language-none"><code>import React from \'react\'\nimport { AppRegistry } from \'react-native\'\n\nimport App from \'./app/index\'\n\nAppRegistry.registerComponent(\'imageupload\', () => App)</code></pre>\n      </div>\n<h2>Step 3</h2>\n<p>Run <code>npm install ‚Äî-save react-native-image-picker react-native-fetch-blob</code></p>\n<p>then <code>react-native link</code>.</p>\n<p>That should successfully install and link the packages required for accessing the file system (included with react-native-image-picker) and posting the image data to Cloudinary (react-native-fetch-blob).</p>\n<h2>Step 4</h2>\n<p>Before we can access files on the device, we have to ask the user for permission first. Follows these instructions to allow permissions for Android and iOS:</p>\n<h3>iOS</h3>\n<p>Add this to <code>ios/app_name/Info.plist</code>:</p>\n<p>\n  <a\n    class="gatsby-resp-image-link"\n    href="/blog/static/105609704912481b400b0a534f358a07-68018.png"\n    style="display: block"\n    target="_blank"\n    rel="noopener"\n  >\n  \n  <span\n    class="gatsby-resp-image-wrapper"\n    style="position: relative; display: block; ; max-width: 546px; margin-left: auto; margin-right: auto;"\n  >\n    <span\n      class="gatsby-resp-image-background-image"\n      style="padding-bottom: 18.681318681318682%; position: relative; bottom: 0; left: 0; background-image: url(\'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAECAYAAACOXx+WAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAqElEQVQY032Qyw6CQAxF+QPABBMQg7xkgAFnwoALBnCH//9D17QLV+Li9JW0va3jn3zE1xhSSiilUIkKTdswWmuIWnBNCIFWtgjOAajnCIdMURaw1mJ/79heG8frtrInZjujf/Qo7yXyIucFhwM930OapRjMgGVZMD0njNMIMxoorbhOdH2HMAr5muSW/FcYXSJWWTc1ezozyzNeRDnF9ALXc7+QkF8DP0OBbugWrs4bAAAAAElFTkSuQmCC\'); background-size: cover; display: block;"\n    >\n      <img\n        class="gatsby-resp-image-image"\n        style="width: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;"\n        alt="React Native Cloudinary"\n        title=""\n        src="/blog/static/105609704912481b400b0a534f358a07-1d5f7.png"\n        srcset="/blog/static/105609704912481b400b0a534f358a07-efee6.png 148w,\n/blog/static/105609704912481b400b0a534f358a07-7d4b6.png 295w,\n/blog/static/105609704912481b400b0a534f358a07-1d5f7.png 590w,\n/blog/static/105609704912481b400b0a534f358a07-3f9dd.png 885w,\n/blog/static/105609704912481b400b0a534f358a07-68018.png 1092w"\n        sizes="(max-width: 546px) 100vw, 546px"\n      />\n    </span>\n  </span>\n  \n  </a>\n    </p>\n<h3>Android</h3>\n<p>Add this to <code>android/app/src/AndroidManifest.xml</code>:</p>\n<p>\n  <a\n    class="gatsby-resp-image-link"\n    href="/blog/static/96f3bf33a9ab1ba8833124679830369a-64450.png"\n    style="display: block"\n    target="_blank"\n    rel="noopener"\n  >\n  \n  <span\n    class="gatsby-resp-image-wrapper"\n    style="position: relative; display: block; ; max-width: 558px; margin-left: auto; margin-right: auto;"\n  >\n    <span\n      class="gatsby-resp-image-background-image"\n      style="padding-bottom: 13.440860215053762%; position: relative; bottom: 0; left: 0; background-image: url(\'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAADCAYAAACTWi8uAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAdElEQVQI161OQQ6DMAzrF9iBMYmONO1o00IR/P9vRonED3aw7NiWFTe8BvwTbvpMICLEFBE4wH89ODIoENIvGavPzMYK9bS/5tVu1QstGN8j3Oxn5JKx9x21VRtpW4OIoB8dRQqkimUPNNP+eZ2WqdZxfe4Gab9RCaMrBesAAAAASUVORK5CYII=\'); background-size: cover; display: block;"\n    >\n      <img\n        class="gatsby-resp-image-image"\n        style="width: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;"\n        alt="React Native Cloudinary"\n        title=""\n        src="/blog/static/96f3bf33a9ab1ba8833124679830369a-7bf6c.png"\n        srcset="/blog/static/96f3bf33a9ab1ba8833124679830369a-e5abb.png 148w,\n/blog/static/96f3bf33a9ab1ba8833124679830369a-4f8a5.png 295w,\n/blog/static/96f3bf33a9ab1ba8833124679830369a-7bf6c.png 590w,\n/blog/static/96f3bf33a9ab1ba8833124679830369a-007e4.png 885w,\n/blog/static/96f3bf33a9ab1ba8833124679830369a-64450.png 1116w"\n        sizes="(max-width: 558px) 100vw, 558px"\n      />\n    </span>\n  </span>\n  \n  </a>\n    </p>\n<h2>Step 5</h2>\n<p>This is the main component we use to do everything. Copy it into <code>app/index.js</code> and update it with your cloudinary name and preset:</p>\n<div class="gatsby-highlight">\n      <pre class="language-none"><code>import React, { Component } from \'react\'\nimport { View, Text, TouchableOpacity, Image } from \'react-native\'\nimport ImagePicker from \'react-native-image-picker\'\nimport RNFetchBlob from \'react-native-fetch-blob\'\n\nexport default class extends Component {\n    constructor(props) {\n        super(props)\n        this.state = {\n            avatarSource: "",\n            uploadImage: false\n        }\n    }\n\n    render() {\n        return (\n            <View style={{\n                flex: 1,\n                flexDirection: \'column\',\n                backgroundColor: "#FAFAFA",\n                alignItems: \'center\',\n                justifyContent: "center"\n            }}>\n                <Text>React Native Image Upload with Cloudinary!</Text>\n                <TouchableOpacity onPress={() => {\n                    var options = {\n                        title: \'Select Avatar\',\n                        customButtons: [\n                            { name: \'fb\', title: \'Choose Photo from Facebook\' },\n                        ],\n                        storageOptions: {\n                            skipBackup: true,\n                            path: \'images\'\n                        }\n                    };\n\n                    this.setState({\n                        uploadingImg: true\n                    });\n\n                    ImagePicker.showImagePicker(options, (response) => {\n                        console.log(\'Response = \', response);\n\n                        if (response.didCancel) {\n                            console.log(\'User cancelled image picker\');\n                        }\n                        else if (response.error) {\n                            console.log(\'ImagePicker Error: \', response.error);\n                        }\n                        else if (response.customButton) {\n                            console.log(\'User tapped custom button: \', response.customButton);\n                        }\n                        else {\n                            let source = { uri: response.uri };\n\n                            uploadFile(response)\n                                .then(response => response.json())\n                                .then(result => {\n                                    this.setState({\n                                        avatarSource: { uri: result.secure_url },\n                                        uploadingImg: false\n                                    });\n                                })\n\n                        }\n                    });\n                }} style={{\n                    height: 80,\n                    width: 80,\n                    borderRadius: 40,\n                    backgroundColor: "#333",\n                    marginBottom: 20\n                }}>\n                    <Image source={this.state.avatarSource} style={{\n                        height: 80,\n                        width: 80,\n                        borderRadius: 40\n                    }} />\n                </TouchableOpacity>\n            </View>\n        )\n    }\n}\n\nfunction uploadFile(file) {\n    return RNFetchBlob.fetch(\'POST\', \'https://api.cloudinary.com/v1_1/yourcloudinaryname/image/upload?upload_preset=yourcloudinarypreset\', {\n        \'Content-Type\': \'multipart/form-data\'\n    }, [\n            { name: \'file\', filename: file.fileName, data: RNFetchBlob.wrap(file.origURL) }\n        ])\n}</code></pre>\n      </div>\n<h2>Step 6</h2>\n<p>Once that‚Äôs all done and dusted, run <code>react-native run-ios</code> or <code>react-native run-andoid</code> and upload your images to Cloudinary!!</p>\n<p><a href="https://github.com/TarCode/react-native-cloudinary">The code exists on Github too</a> </p>\n<h1>üëΩ ü§ì üëæ</h1>',frontmatter:{title:"React Native Image Uploading with Cloudinary",date:"September 25, 2017"}}},pathContext:{path:"/react-native-image-uploading/"}}}});
//# sourceMappingURL=path---react-native-image-uploading-33afa7043483528a2c50.js.map